## Пример 2:

Паттерн "Done channel" используется для координации и ожидания завершения нескольких HTTP-запросов.

Вот как применяется этот паттерн:

1. Создается канал `done` типа `chan RequestResult` с размером буфера, равным количеству URL-адресов в срезе `urls`. Этот канал будет использоваться для отправки результатов HTTP-запросов.

2. Цикл перебирает срез `urls`. Для каждого URL создается новая горутина с вызовом `go processRequest(url, done)`. Каждая горутина отправляет результат HTTP-запроса в канал `done` по завершении.

3. Главная горутина ожидает завершения всех HTTP-запросов с помощью цикла, который перебирает количество URL-адресов. Она получает результаты из канала `done` с использованием `<-done`. Это позволяет главной горутине обрабатывать результаты по мере их поступления.

4. Для каждого полученного результата код проверяет, был ли запрос успешным (`result.Success`). Если запрос был успешным, выводится сообщение об успехе вместе с URL. Если запрос завершился с ошибкой, выводится сообщение об ошибке с URL и конкретной ошибкой, которая произошла.

5. Наконец, после обработки всех результатов, канал `done` закрывается с помощью `close(done)`.

Этот паттерн позволяет выполнять несколько HTTP-запросов параллельно и предоставляет способ собирать и обрабатывать результаты по мере их получения, что делает его полезным для обработки параллельных задач.