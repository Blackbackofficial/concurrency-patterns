## Пример 4:

Паттерн "Sharding" применяется для балансировки и распределения запросов между несколькими шардами. Вот как это работает:

1. **Структура данных**: Структура `Request` используется для представления отдельных запросов, каждый из которых имеет `ID` (целое число) и `Data` (строку).

2. **Главная функция**:
   - Создается массив элементов `Request`, `requests`, для представления запросов, которые нужно сбалансировать и распределить по шардам.
   - Создается срез срезов `Request`, `shards`, чтобы имитировать шарды. В данном случае создается три шарда.
   - Используется `sync.WaitGroup` (`wg`), чтобы гарантировать, что все горутины завершат свою работу перед продолжением.

3. **Горутины для распределения запросов**:
   - Для каждого `Request` в массиве `requests` запускается горутина. Каждая горутина отвечает за распределение запроса в один из трех шардов.
   - Функция `loadBalance` вычисляет индекс шарда для данного запроса на основе его `ID`. Она использует простую операцию по модулю для равномерного распределения запросов между тремя шардами.
   - Затем горутина добавляет запрос в соответствующий шард.

4. **Ожидание завершения горутин**: Главная функция ждет, пока все горутины завершат свою работу с использованием оператора `wg.Wait()`.

5. **Вывод запросов из шардов**:
   - После того как все запросы распределены, главная функция переходит к выводу запросов из всех шардов.
   - Она перебирает срез `shards` и выводит идентификаторы запросов и данные внутри каждого шарда.

Паттерн "Sharding" в этом коде демонстрирует распределение запросов между несколькими шардами, обеспечивая балансировку нагрузки и эффективное управление запросами. Он особенно полезен в ситуациях, где входящие запросы должны равномерно распределяться по различным разделам или шардам для повышения производительности и масштабируемости.