## Пример 1:

Этот пример демонстрирует "Bounded Parallelism", который ограничивает количество одновременных операций до определенного уровня, обеспечивая, что система не перегружается. Вот объяснение того, как это работает:

1. **Функция обработки (Process)**:
   - Функция `Process` принимает два параметра: `concurrency` и `data`.
   - `concurrency` определяет максимальное количество одновременных операций, которые могут выполняться одновременно.
   - `data` - это срез целых чисел, представляющий данные для обработки.

2. **Семафор (sem)**:
   - Создается канал с названием `sem` типа `struct{}` с емкостью `concurrency`. Этот канал действует как семафор и позволяет выполнять только ограниченное количество горутин одновременно.

3. **Группа ожидания (WaitGroup, wg)**:
   - Создается `sync.WaitGroup` с именем `wg`, чтобы дождаться завершения всех горутин.

4. **Параллельная обработка данных**:
   - В цикле выполняется итерация по срезу `data`, и для каждого элемента `d` он получает слот семафора, отправляя значение в канал `sem` (`sem <- struct{}{}`). Эта операция блокируется, если канал полон, что эффективно ограничивает количество одновременных горутин до `concurrency`.
   - Запускается горутина для каждого элемента в `data`. Внутри горутины вызывается функция `doProcess` для обработки данных.
   - Функция `doProcess` имитирует работу, засыпая на одну секунду.
   - После завершения обработки горутина освобождает слот семафора, принимая значение из канала `sem` (`<-sem`), освобождая место для другой горутины.

5. **Ожидание завершения горутин**:
   - Вызов `wg.Wait()` ожидает завершения всех горутин. Это гарантирует, что программа не завершится, пока не завершится вся обработка.

6. **Главная функция (Main)**:
   - В главной функции данные извлекаются с использованием функции `getData`, которая создает срез целых чисел от 0 до 9.
   - Вызывается функция `Process` с ограничением параллелизма в 3, что означает, что максимум три операции по обработке данных будут выполняться одновременно.

7. **Вывод (Output)**:
   - Функция `doProcess` имитирует обработку каждого фрагмента данных, засыпая на одну секунду. По мере завершения каждой операции она выводит сообщение, указывающее на завершение обработки.